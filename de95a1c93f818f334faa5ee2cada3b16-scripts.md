---
title: 'de95a1c93f818f334faa5ee2cada3b16-scripts'
date: Thu, 26 Jul 2018 21:43:43 +0000
draft: false
---

/\*\*handles:awl-bootstrap-lightbox-js\*\*/ (function(){"use strict";var t,i;t=jQuery,i=function(i,o){var e,s,a;return this.options=t.extend({title:null,footer:null,remote:null},t.fn.ekkoLightbox.defaults,o||{}),this.$element=t(i),e="",this.modal\_id=this.options.modal\_id?this.options.modal_id:"ekkoLightbox-"+Math.floor(1e3*Math.random()+1),a='

×

#### '+(this.options.title||" ")+"

",s='

"+this.options.footer+"

",t(document.body).append('

'+a+'

'+s+"

"),this.modal=t("#"+this.modal\_id),this.modal\_dialog=this.modal.find(".modal-dialog").first(),this.modal\_content=this.modal.find(".modal-content").first(),this.modal\_body=this.modal.find(".modal-body").first(),this.modal\_header=this.modal.find(".modal-header").first(),this.modal\_footer=this.modal.find(".modal-footer").first(),this.lightbox\_container=this.modal\_body.find(".ekko-lightbox-container").first(),this.lightbox\_body=this.lightbox\_container.find("> div:first-child").first(),this.showLoading(),this.modal\_arrows=null,this.border={top:parseFloat(this.modal\_dialog.css("border-top-width"))+parseFloat(this.modal\_content.css("border-top-width"))+parseFloat(this.modal\_body.css("border-top-width")),right:parseFloat(this.modal\_dialog.css("border-right-width"))+parseFloat(this.modal\_content.css("border-right-width"))+parseFloat(this.modal\_body.css("border-right-width")),bottom:parseFloat(this.modal\_dialog.css("border-bottom-width"))+parseFloat(this.modal\_content.css("border-bottom-width"))+parseFloat(this.modal\_body.css("border-bottom-width")),left:parseFloat(this.modal\_dialog.css("border-left-width"))+parseFloat(this.modal\_content.css("border-left-width"))+parseFloat(this.modal\_body.css("border-left-width"))},this.padding={top:parseFloat(this.modal\_dialog.css("padding-top"))+parseFloat(this.modal\_content.css("padding-top"))+parseFloat(this.modal\_body.css("padding-top")),right:parseFloat(this.modal\_dialog.css("padding-right"))+parseFloat(this.modal\_content.css("padding-right"))+parseFloat(this.modal\_body.css("padding-right")),bottom:parseFloat(this.modal\_dialog.css("padding-bottom"))+parseFloat(this.modal\_content.css("padding-bottom"))+parseFloat(this.modal\_body.css("padding-bottom")),left:parseFloat(this.modal\_dialog.css("padding-left"))+parseFloat(this.modal\_content.css("padding-left"))+parseFloat(this.modal\_body.css("padding-left"))},this.modal.on("show.bs.modal",this.options.onShow.bind(this)).on("shown.bs.modal",function(t){return function(){return t.modal\_shown(),t.options.onShown.call(t)}}(this)).on("hide.bs.modal",this.options.onHide.bind(this)).on("hidden.bs.modal",function(i){return function(){return i.gallery&&t(document).off("keydown.ekkoLightbox"),i.modal.remove(),i.options.onHidden.call(i)}}(this)).modal("show",o),this.modal},i.prototype={modal\_shown:function(){var i;return this.options.remote?(this.gallery=this.$element.data("gallery"),this.gallery&&("document.body"===this.options.gallery\_parent\_selector||""===this.options.gallery\_parent\_selector?this.gallery\_items=t(document.body).find('*\[data-gallery="'+this.gallery+'"\]'):this.gallery\_items=this.$element.parents(this.options.gallery\_parent\_selector).first().find('*\[data-gallery="'+this.gallery+'"\]'),this.gallery\_index=this.gallery\_items.index(this.$element),t(document).on("keydown.ekkoLightbox",this.navigate.bind(this)),this.options.directional\_arrows&&this.gallery\_items.length>1&&(this.lightbox\_container.append('

'),this.modal\_arrows=this.lightbox\_container.find("div.ekko-lightbox-nav-overlay").first(),this.lightbox\_container.find("a"+this.strip\_spaces(this.options.left\_arrow\_class)).on("click",function(t){return function(i){return i.preventDefault(),t.navigate\_left()}}(this)),this.lightbox\_container.find("a"+this.strip\_spaces(this.options.right\_arrow\_class)).on("click",function(t){return function(i){return i.preventDefault(),t.navigate\_right()}}(this)))),this.options.type?"image"===this.options.type?this.preloadImage(this.options.remote,!0):"youtube"===this.options.type&&(i=this.getYoutubeId(this.options.remote))?this.showYoutubeVideo(i):"vimeo"===this.options.type?this.showVimeoVideo(this.options.remote):"instagram"===this.options.type?this.showInstagramVideo(this.options.remote):"url"===this.options.type?this.loadRemoteContent(this.options.remote):"video"===this.options.type?this.showVideoIframe(this.options.remote):this.error('Could not detect remote target type. Force the type using data-type="image|youtube|vimeo|instagram|url|video"'):this.detectRemoteType(this.options.remote)):this.error("No remote target given")},strip\_stops:function(t){return t.replace(/./g,"")},strip\_spaces:function(t){return t.replace(/s/g,"")},isImage:function(t){return t.match(/(^data:image/.*,)|(.(jp(e|g|eg)|gif|png|bmp|webp|svg)((?|#).*)?$)/i)},isSwf:function(t){return t.match(/.(swf)((?|#).*)?$/i)},getYoutubeId:function(t){var i;return i=t.match(/^.*(youtu.be/|v/|u/w/|embed/|watch?v=|&v=)(\[^#&?\]*).*/),!(!i||11!==i\[2\].length)&&i\[2\]},getVimeoId:function(t){return t.indexOf("vimeo")>0&&t},getInstagramId:function(t){return t.indexOf("instagram")>0&&t},navigate:function(t){if(t=t||window.event,39===t.keyCode||37===t.keyCode){if(39===t.keyCode)return this.navigate\_right();if(37===t.keyCode)return this.navigate\_left()}},navigateTo:function(i){var o,e;return ithis.gallery\_items.length-1?this:(this.showLoading(),this.gallery\_index=i,this.$element=t(this.gallery\_items.get(this.gallery\_index)),this.updateTitleAndFooter(),e=this.$element.attr("data-remote")||this.$element.attr("href"),this.detectRemoteType(e,this.$element.attr("data-type")||!1),this.gallery\_index+1<this.gallery\_items.length&&(o=t(this.gallery\_items.get(this.gallery\_index+1),!1),e=o.attr("data-remote")||o.attr("href"),"image"===o.attr("data-type")||this.isImage(e))?this.preloadImage(e,!1):void 0)},navigate\_left:function(){if(1!==this.gallery\_items.length)return 0===this.gallery\_index?this.gallery\_index=this.gallery\_items.length-1:this.gallery\_index--,this.options.onNavigate.call(this,"left",this.gallery\_index),this.navigateTo(this.gallery\_index)},navigate\_right:function(){if(1!==this.gallery\_items.length)return this.gallery\_index===this.gallery\_items.length-1?this.gallery\_index=0:this.gallery\_index++,this.options.onNavigate.call(this,"right",this.gallery\_index),this.navigateTo(this.gallery\_index)},detectRemoteType:function(t,i){var o;return i=i||!1,"image"===i||this.isImage(t)?(this.options.type="image",this.preloadImage(t,!0)):"youtube"===i||(o=this.getYoutubeId(t))?(this.options.type="youtube",this.showYoutubeVideo(o)):"vimeo"===i||(o=this.getVimeoId(t))?(this.options.type="vimeo",this.showVimeoVideo(o)):"instagram"===i||(o=this.getInstagramId(t))?(this.options.type="instagram",this.showInstagramVideo(o)):"video"===i?(this.options.type="video",this.showVideoIframe(t)):(this.options.type="url",this.loadRemoteContent(t))},updateTitleAndFooter:function(){var t,i,o,e;return o=this.modal\_content.find(".modal-header"),i=this.modal\_content.find(".modal-footer"),e=this.$element.data("title")||"",t=this.$element.data("footer")||"",e||this.options.always\_show\_close?o.css("display","").find(".modal-title").html(e||" "):o.css("display","none"),t?i.css("display","").html(t):i.css("display","none"),this},showLoading:function(){return this.lightbox_body.html('

'+this.options.loadingMessage+"

"),this},showYoutubeVideo:function(t){var i,o,e;return o=null!=this.$element.attr("data-norelated")||this.options.no\_related?"&rel=0":"",e=this.checkDimensions(this.$element.data("width")||560),i=e/(560/315),this.showVideoIframe("//www.youtube.com/embed/"+t+"?badge=0&autoplay=1&html5=1"+o,e,i)},showVimeoVideo:function(t){var i,o;return o=this.checkDimensions(this.$element.data("width")||560),i=o/(500/281),this.showVideoIframe(t+"?autoplay=1",o,i)},showInstagramVideo:function(t){var i,o;if(o=this.checkDimensions(this.$element.data("width")||612),this.resize(o),i=o+80,this.lightbox\_body.html(''),this.options.onContentLoaded.call(this),this.modal\_arrows)return this.modal\_arrows.css("display","none")},showVideoIframe:function(t,i,o){return o=o||i,this.resize(i),this.lightbox_body.html('

'),this.options.onContentLoaded.call(this),this.modal\_arrows&&this.modal\_arrows.css("display","none"),this},loadRemoteContent:function(i){var o,e;return e=this.$element.data("width")||560,this.resize(e),o=this.$element.data("disableExternalCheck")||!1,o||this.isExternal(i)?(this.lightbox\_body.html(''),this.options.onContentLoaded.call(this)):this.lightbox\_body.load(i,t.proxy(function(t){return function(){return t.$element.trigger("loaded.bs.modal")}}(this))),this.modal\_arrows&&this.modal\_arrows.css("display","none"),this},isExternal:function(t){var i;return i=t.match(/^(\[^:/?#\]+:)?(?://(\[^/?#\]*))?(\[^?#\]+)?(?\[^#\]*)?(#.*)?/),"string"==typeof i\[1\]&&i\[1\].length>0&&i\[1\].toLowerCase()!==location.protocol||"string"==typeof i\[2\]&&i\[2\].length>0&&i\[2\].replace(new RegExp(":("+{"http:":80,"https:":443}\[location.protocol\]+")?$"),"")!==location.host},error:function(t){return this.lightbox_body.html(t),this},preloadImage:function(i,o){var e;return e=new Image,null!=o&&o!==!0||(e.onload=function(i){return function(){var o;return o=t(""),o.attr("src",e.src),o.addClass("img-responsive"),i.lightbox\_body.html(o),i.modal\_arrows&&i.modal\_arrows.css("display","block"),o.load(function(){return i.options.scale\_height?i.scaleHeight(e.height,e.width):i.resize(e.width),i.options.onContentLoaded.call(i)})}}(this),e.onerror=function(t){return function(){return t.error("Failed to load image: "+i)}}(this)),e.src=i,e},scaleHeight:function(i,o){var e,s,a,n,r,l;return n=this.modal\_header.outerHeight(!0)||0,a=this.modal\_footer.outerHeight(!0)||0,this.modal\_footer.is(":visible")||(a=0),this.modal\_header.is(":visible")||(n=0),e=this.border.top+this.border.bottom+this.padding.top+this.padding.bottom,r=parseFloat(this.modal\_dialog.css("margin-top"))+parseFloat(this.modal\_dialog.css("margin-bottom")),l=t(window).height()-e-r-n-a,s=Math.min(l/i,1),this.modal\_dialog.css("height","auto").css("max-height",l),this.resize(s*o)},resize:function(i){var o;return o=i+this.border.left+this.padding.left+this.padding.right+this.border.right,this.modal\_dialog.css("width","auto").css("max-width",o),this.lightbox\_container.find("a").css("line-height",function(){return t(this).parent().height()+"px"}),this},checkDimensions:function(t){var i,o;return o=t+this.border.left+this.padding.left+this.padding.right+this.border.right,i=document.body.clientWidth,o>i&&(t=this.modal\_body.width()),t},close:function(){return this.modal.modal("hide")},addTrailingSlash:function(t){return"/"!==t.substr(-1)&&(t+="/"),t}},t.fn.ekkoLightbox=function(o){return this.each(function(){var e;return e=t(this),o=t.extend({remote:e.attr("data-remote")||e.attr("href"),gallery\_parent\_selector:e.attr("data-parent"),type:e.attr("data-type")},o,e.data()),new i(this,o),this})},t.fn.ekkoLightbox.defaults={gallery\_parent\_selector:"document.body",left\_arrow\_class:".glyphicon .glyphicon-chevron-left",right\_arrow\_class:".glyphicon .glyphicon-chevron-right",directional\_arrows:!0,type:null,always\_show\_close:!0,no\_related:!1,scale_height:!0,loadingMessage:"Loading...",onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNavigate:function(){},onContentLoaded:function(){}}}).call(this);